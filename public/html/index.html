<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="./index.css" rel="stylesheet" />
    <title data-translation-key="title">Top Lists</title>
  </head>

  <body>
    <div id="authorize-container" class="main-content">
      <h1 class="mdc-typography--headline2" data-translation-key="heading-unauthorized">
        Your top tracks and artists on Spotify!
      </h1>
      <h3 class="mdc-typography--headline4" data-translation-key="subheading-unauthorized">
        Authorize your Spotify account to see your top tracks and artists.
      </h3>

      <button class="mdc-button mdc-button--raised mdc-ripple-upgraded" id="login-button">
        <a href="/login">
          <span class="mdc-button__label" data-translation-key="authorize-button">Authorize</span
          ><span class="mdc-button__ripple"></span>
        </a>
      </button>
    </div>

    <div id="top-lists-container" style="display: none" class="main-content">
      <div id="time-range-select" class="mdc-select mdc-select--outlined">
        <div class="mdc-select__anchor" role="button">
          <span id="demo-label" class="mdc-floating-label" data-translation-key="time-span-selection">Time Span</span>
          <span class="mdc-select__selected-text-container">
            <span id="demo-selected-text" class="mdc-select__selected-text"></span>
          </span>
          <span class="mdc-select__dropdown-icon">
            <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
              <polygon
                class="mdc-select__dropdown-icon-inactive"
                stroke="none"
                fill-rule="evenodd"
                points="7 10 12 15 17 10"
              ></polygon>
              <polygon
                class="mdc-select__dropdown-icon-active"
                stroke="none"
                fill-rule="evenodd"
                points="7 15 12 10 17 15"
              ></polygon>
            </svg>
          </span>
          <span class="mdc-line-ripple"></span>
        </div>

        <div class="mdc-select__menu mdc-menu mdc-menu-surface mdc-menu-surface--fullwidth">
          <ul class="mdc-list" role="listbox" aria-label="Time-Span select">
            <li class="mdc-list-item" data-value="long_term" role="option">
              <span class="mdc-list-item__ripple"></span>
              <span class="mdc-list-item__text" data-translation-key="time-range-long-term">All Time</span>
            </li>
            <li class="mdc-list-item" data-value="medium_term" role="option">
              <span class="mdc-list-item__ripple"></span>
              <span class="mdc-list-item__text" data-translation-key="time-range-medium-term">Last 6 Months</span>
            </li>
            <li class="mdc-list-item" data-value="short_term" role="option">
              <span class="mdc-list-item__ripple"></span>
              <span class="mdc-list-item__text" data-translation-key="time-range-short-term">Last 4 Weeks</span>
            </li>
          </ul>
        </div>
      </div>

      <h2 id="top-tracks-header" class="mdc-typography--headline4" data-translation-key="top-tracks-header">
        Top Tracks <span class="time-range-string"></span>
      </h2>
      <div id="top-tracks-grid" class="mdc-layout-grid">
        <span class="error-message hidden" data-translation-key="no-data-found-message">Oops... no data found!</span>
        <div class="mdc-layout-grid__inner grid-content" id="top-tracks-grid-inner"></div>
        <button id="load-more-tracks" class="mdc-button mdc-button--outlined mdc-ripple-upgraded load-more-button">
          <span class="mdc-button__label" data-translation-key="load-more-button">Load More</span>
          <span class="mdc-button__ripple"></span>
        </button>
        <button id="create-playlist-button" class="mdc-button mdc-button--raised mdc-ripple-upgraded">
          <span class="mdc-button__label" data-translation-key="create-playlist-button">Create Playlist</span>
          <span class="mdc-button__ripple"></span>
        </button>
      </div>

      <h2 id="top-artists-header" class="mdc-typography--headline4" data-translation-key="top-artists-header">
        Top Artists <span class="time-range-string"></span>
      </h2>
      <div id="top-artists-grid" class="mdc-layout-grid">
        <span class="error-message hidden" data-translation-key="no-data-found-message">Oops... no data found!</span>
        <div class="mdc-layout-grid__inner grid-content" id="top-artists-grid-inner"></div>
        <button id="load-more-artists" class="mdc-button mdc-button--outlined mdc-ripple-upgraded load-more-button">
          <span class="mdc-button__label" data-translation-key="load-more-button">Load More</span>
          <span class="mdc-button__ripple"></span>
        </button>
      </div>
    </div>

    <!-- Create Playlist Modal -->
    <div class="mdc-dialog" id="create-playlist-dialog">
      <div class="mdc-dialog__container">
        <div class="mdc-dialog__surface"
          role="alertdialog"
          aria-modal="true"
          aria-labelledby="create-playlist-dialog-title"
          aria-describedby="create-playlist-dialog-description">
          <h2 class="mdc-dialog__title" id="create-playlist-dialog-title" data-translation-key="create-playlist-dialog-title">
            Create Playlist from Top Tracks
          </h2>
          <div class="mdc-dialog__content" id="create-playlist-dialog-content">
            <p id="create-playlist-dialog-description" data-translation-key="create-playlist-dialog-description">
              Create a new Spotify playlist with your top tracks from this time range.
            </p>
            <div class="mdc-text-field mdc-text-field--outlined" style="width: 100%; margin-top: 16px;">
              <input type="text" id="playlist-name-input" class="mdc-text-field__input" aria-labelledby="playlist-name-label" aria-describedby="create-playlist-dialog-description" required aria-required="true">
              <span class="mdc-notched-outline">
                <span class="mdc-notched-outline__leading"></span>
                <span class="mdc-notched-outline__notch">
                  <span class="mdc-floating-label" id="playlist-name-label" data-translation-key="playlist-name-label">Playlist Name</span>
                </span>
                <span class="mdc-notched-outline__trailing"></span>
              </span>
            </div>
            <div id="playlist-tracks-selection" style="margin-top: 16px; max-height: 300px; overflow-y: auto;">
              <p data-translation-key="select-tracks-label" style="font-weight: bold; margin-bottom: 8px;">Select tracks to include:</p>
              <div id="tracks-checklist"></div>
            </div>
            <div id="playlist-loading" style="display: none; text-align: center; padding: 16px;">
              <p data-translation-key="loading-tracks">Loading tracks...</p>
            </div>
          </div>
          <div class="mdc-dialog__actions">
            <button type="button" class="mdc-button mdc-dialog__button" data-mdc-dialog-action="cancel">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label" data-translation-key="cancel-button">Cancel</span>
            </button>
            <button type="button" class="mdc-button mdc-dialog__button" id="create-playlist-confirm-button" data-mdc-dialog-action="accept">
              <div class="mdc-button__ripple"></div>
              <span class="mdc-button__label" data-translation-key="confirm-button">Create</span>
            </button>
          </div>
        </div>
      </div>
      <div class="mdc-dialog__scrim"></div>
    </div>

    <footer class="footer">
      <span>&copy;2025 Lukas Panni</span>
      <br />
      <div class="footer-links">
        <a target="_blank" href="https://blog.lukaspanni.de/impressum/">Impressum</a>
        <a target="_blank" href="https://blog.lukaspanni.de/datenschutzerklaerung/">Datenschutz</a>
        <a target="_blank" href="https://github.com/lukaspanni/spotify-stats">GitHub</a>
      </div>
    </footer>
  </body>
</html>
